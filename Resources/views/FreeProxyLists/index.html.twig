<html>
<head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    
    <style type="text/css">
    .table-proxies {
        border-collapse: collapse;
    }
    .table-proxies td {
        border-bottom: 1px solid grey;
        padding-right: 10px;
    }
    .table-proxies td.port {
        text-align: right;
        padding-right: 0px;
    }
    </style>
</head>
<body>
<a href="http://www.freeproxylists.net/fr/?pr=HTTP&a[]=1&a[]=2&u=90&s=u" target="_blank">AFFICHER LES PROXIES</a>
<br /><br />
<div style="vertical-align: top; float: left; margin-right: 10px">
    <textarea rows="57" cols="140" id="proxiesText"></textarea>
</div>
<div style="vertical-align: top">
    <center>
        <button id="findProxies">
            Rechercher les proxies
        </button>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <button id="saveProxies">
            Sauvegarder les proxies
        </button>
    </center>
    <div id="findAllResults"></div>
</div>

<script type="text/javascript">
$(function() {
    $('#findProxies').bind('click', function() {
        $.ajax({
            url: '{{ findAllUrl }}',
            data: { proxiesText: $("#proxiesText").val() },
            type: 'POST',
            complete: function(xhr, status) {
                $('#findAllResults').html(xhr.responseText);
            }
        });
    });
    $('#saveProxies').bind('click', function() {
        $.ajax({
            url: '{{ saveAllUrl }}',
            data: { proxiesText: $("#proxiesText").val() },
            type: 'POST',
            complete: function(xhr, status) {
                $('#findAllResults').html(xhr.responseText);
            }
        });
    });
});
</script>
</body>
</html>